{"ast":null,"code":"'use strict';\n\nconst {\n  ArrayPrototypePop,\n  Promise\n} = require('../ours/primordials');\nconst {\n  isIterable,\n  isNodeStream,\n  isWebStream\n} = require('../internal/streams/utils');\nconst {\n  pipelineImpl: pl\n} = require('../internal/streams/pipeline');\nconst {\n  finished\n} = require('../internal/streams/end-of-stream');\nrequire('../../lib/stream.js');\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal;\n    let end;\n    const lastArg = streams[streams.length - 1];\n    if (lastArg && typeof lastArg === 'object' && !isNodeStream(lastArg) && !isIterable(lastArg) && !isWebStream(lastArg)) {\n      const options = ArrayPrototypePop(streams);\n      signal = options.signal;\n      end = options.end;\n    }\n    pl(streams, (err, value) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(value);\n      }\n    }, {\n      signal,\n      end\n    });\n  });\n}\nmodule.exports = {\n  finished,\n  pipeline\n};","map":{"version":3,"names":["ArrayPrototypePop","Promise","require","isIterable","isNodeStream","isWebStream","pipelineImpl","pl","finished","pipeline","streams","resolve","reject","signal","end","lastArg","length","options","err","value","module","exports"],"sources":["/Users/Einpunk Community/Documents/Brownie/brownie_gamex_vault/node_modules/@toruslabs/torus-embed/node_modules/readable-stream/lib/stream/promises.js"],"sourcesContent":["'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\nconst { isIterable, isNodeStream, isWebStream } = require('../internal/streams/utils')\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\nconst { finished } = require('../internal/streams/end-of-stream')\nrequire('../../lib/stream.js')\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n    if (\n      lastArg &&\n      typeof lastArg === 'object' &&\n      !isNodeStream(lastArg) &&\n      !isIterable(lastArg) &&\n      !isWebStream(lastArg)\n    ) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\nmodule.exports = {\n  finished,\n  pipeline\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAM;EAAEA,iBAAiB;EAAEC;AAAQ,CAAC,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AACrE,MAAM;EAAEC,UAAU;EAAEC,YAAY;EAAEC;AAAY,CAAC,GAAGH,OAAO,CAAC,2BAA2B,CAAC;AACtF,MAAM;EAAEI,YAAY,EAAEC;AAAG,CAAC,GAAGL,OAAO,CAAC,8BAA8B,CAAC;AACpE,MAAM;EAAEM;AAAS,CAAC,GAAGN,OAAO,CAAC,mCAAmC,CAAC;AACjEA,OAAO,CAAC,qBAAqB,CAAC;AAC9B,SAASO,QAAQA,CAAC,GAAGC,OAAO,EAAE;EAC5B,OAAO,IAAIT,OAAO,CAAC,CAACU,OAAO,EAAEC,MAAM,KAAK;IACtC,IAAIC,MAAM;IACV,IAAIC,GAAG;IACP,MAAMC,OAAO,GAAGL,OAAO,CAACA,OAAO,CAACM,MAAM,GAAG,CAAC,CAAC;IAC3C,IACED,OAAO,IACP,OAAOA,OAAO,KAAK,QAAQ,IAC3B,CAACX,YAAY,CAACW,OAAO,CAAC,IACtB,CAACZ,UAAU,CAACY,OAAO,CAAC,IACpB,CAACV,WAAW,CAACU,OAAO,CAAC,EACrB;MACA,MAAME,OAAO,GAAGjB,iBAAiB,CAACU,OAAO,CAAC;MAC1CG,MAAM,GAAGI,OAAO,CAACJ,MAAM;MACvBC,GAAG,GAAGG,OAAO,CAACH,GAAG;IACnB;IACAP,EAAE,CACAG,OAAO,EACP,CAACQ,GAAG,EAAEC,KAAK,KAAK;MACd,IAAID,GAAG,EAAE;QACPN,MAAM,CAACM,GAAG,CAAC;MACb,CAAC,MAAM;QACLP,OAAO,CAACQ,KAAK,CAAC;MAChB;IACF,CAAC,EACD;MACEN,MAAM;MACNC;IACF,CACF,CAAC;EACH,CAAC,CAAC;AACJ;AACAM,MAAM,CAACC,OAAO,GAAG;EACfb,QAAQ;EACRC;AACF,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}